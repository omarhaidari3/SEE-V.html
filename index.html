<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SEE-V Profiles with Sidebar & Department Filter</title>
  <style>
    /* CSS Variables for theming */
    :root {
      --sidebar-bg: #add8e6; /* light blue */
      --sidebar-text: #000; /* black */
      --sidebar-border: #007bff; /* blue */
      --sidebar-hover-bg: #007bff;
      --sidebar-hover-text: #fff;

      --main-bg: #fff;
      --main-text: #000;

      --button-bg: #007bff;
      --button-text: #fff;
      --button-hover-bg: #0056b3;

      --card-bg: #e9f0ff;
      --card-border: #007bff;
      --card-text: #000;
      --card-shadow: rgba(0,123,255,0.3);
    }

    body.dark {
  --sidebar-bg:#121229;
  --sidebar-text:#f0f0f0;
  --sidebar-border:#8c74ff;
  --sidebar-hover-bg:#8c74ff;
  --sidebar-hover-text:#fff;

  --main-bg:#1e1e2e;
  --main-text:#f0f0f0;

  --button-bg:#8c74ff;
  --button-text:#fff;
  --button-hover-bg:#6f5aff;

  --card-bg:#2c2c3e;
  --card-border:#8c74ff;
  --card-text:#f0f0f0;
  --card-shadow:rgba(140,116,255,0.25);
}
    body, input, button, select, textarea {
  font-family: 'Roboto', sans-serif;
  line-height: 1.5;
}
h1, h2, h3 {
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
}


    /* Reset and base */
* {
  box-sizing: border-box;
}

body, input, button, select, textarea {
  font-family: 'Roboto', sans-serif;
}

   body, html {
  margin: 0; padding: 0; height: 100%;
  font-family: "Times New Roman", serif;
  color: var(--main-text);
  transition: background-color 0.3s, color 0.3s;

  /* doodle / zigzag pattern */
  background-color: var(--main-bg);
  background-image: 
    repeating-linear-gradient(
      135deg,
      rgba(0, 0, 0, 0.05) 0px,
      rgba(0, 0, 0, 0.05) 4px,
      transparent 4px,
      transparent 8px
    ),
    repeating-linear-gradient(
      45deg,
      rgba(0, 0, 0, 0.05) 0px,
      rgba(0, 0, 0, 0.05) 4px,
      transparent 4px,
      transparent 8px
    );
  background-size: 40px 40px;
  background-repeat: repeat;
}


    .container {
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    /* Sidebar styles */
    nav {
      width: 220px;
      padding: 30px 10px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      flex-shrink: 0;
      background: var(--sidebar-bg);
      color: var(--sidebar-text);
      transition: background-color 0.3s, color 0.3s;
    }

    nav a {
      background-color: var(--main-bg);
      border: 2px solid var(--sidebar-border);
      border-radius: 8px;
      padding: 12px 20px;
      font-weight: bold;
      font-family: "Times New Roman", serif;
      color: var(--sidebar-text);
      text-decoration: none;
      transition: background-color 0.3s ease, color 0.3s ease;
      user-select: none;
      box-shadow: 0 2px 5px rgba(0, 123, 255, 0.2);
    }

    nav a:hover,
    nav a.active {
      background-color: var(--sidebar-hover-bg);
      color: var(--sidebar-hover-text);
      box-shadow: 0 4px 10px rgba(0, 123, 255, 0.7);
      border-color: var(--sidebar-border);
    }

    /* Theme toggle button */
    #themeToggle {
      margin-top: auto; /* pushes button to bottom */
      padding: 10px 20px;
      background-color: var(--button-bg);
      color: var(--button-text);
      border: none;
      border-radius: 8px;
      font-family: "Times New Roman", serif;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 3px 6px rgba(0,123,255,0.6);
      transition: background-color 0.3s ease;
      user-select: none;
    }
    #themeToggle:hover {
      background-color: var(--button-hover-bg);
    }

    /* Content area */
    main {
      flex-grow: 1;
      background: var(--main-bg);
      padding: 30px;
      overflow-y: auto;
      color: var(--main-text);
      font-family: "Times New Roman", serif;
      transition: background-color 0.3s, color 0.3s;
    }

    h1, h2, h3 {
      margin-top: 0;
      color: var(--main-text);
    }

    /* Form inputs */
    form input, form button, form textarea, form select {
      font-family: "Times New Roman", serif;
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 5px;
      border: 1px solid var(--sidebar-border);
      font-size: 1rem;
      color: var(--main-text);
      background: var(--main-bg);
      transition: background-color 0.3s, color 0.3s;
    }

    form button {
      background: var(--button-bg);
      color: var(--button-text);
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease;
      border: none;
      box-shadow: 0 3px 6px rgba(0,123,255,0.6);
    }

    form button:hover {
      background: var(--button-hover-bg);
    }

    /* User cards */
    #usersList > div, #profilesList > div {
      background: var(--card-bg);
      color: var(--card-text);
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 8px;
      font-family: "Times New Roman", serif;
      border: 1.5px solid var(--card-border);
      box-shadow: 0 2px 6px var(--card-shadow);
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
      cursor: pointer;
      user-select: none;
      overflow: hidden;
      max-height: 3.5rem; /* approx height for just name */
      position: relative;
      transition: max-height 0.4s ease, box-shadow 0.3s ease;
    }
    #usersList > div.expanded {
      max-height: 1000px; /* big enough for full content */
      box-shadow: 0 6px 15px var(--card-shadow);
      cursor: default;
    }
    /* Name always visible */
    #usersList > div h3 {
      margin: 0;
    }
    /* Hidden details */
    #usersList > div .details {
      opacity: 0;
      max-height: 0;
      overflow: hidden;
      transition: opacity 0.3s ease 0.2s, max-height 0.3s ease 0.2s;
      font-size: 0.9rem;
      margin-top: 10px;
    }
    /* Show details when expanded */
    #usersList > div.expanded .details {
      opacity: 1;
      max-height: 1000px;
    }

    /* Departments list style */
    #departmentsList {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }
    #departmentsList button {
      background: var(--main-bg);
      border: 2px solid var(--sidebar-border);
      color: var(--main-text);
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-family: "Times New Roman", serif;
      font-weight: bold;
      box-shadow: 0 2px 5px rgba(0,123,255,0.2);
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    /* Department category header */
.dept-category {
  cursor: pointer;
  margin-bottom: 5px;
  padding: 5px 10px;
  font-weight: bold;
  font-size: 1.1rem;
  border-radius: 8px;
  transition: background-color 0.3s, color 0.3s;
  user-select: none;
}

/* Category colors for dark/light mode */
.dept-category.engineering { background-color: #007bff; color: #fff; }
body.dark .dept-category.engineering { background-color: #8c74ff; color: #fff; }

.dept-category.business { background-color: #28a745; color: #fff; }
body.dark .dept-category.business { background-color: #6fcf97; color: #fff; }

.dept-category.itai { background-color: #ffc107; color: #000; }
body.dark .dept-category.itai { background-color: #ffea7f; color: #000; }

.dept-category.medical { background-color: #dc3545; color: #fff; }
body.dark .dept-category.medical { background-color: #ff7f87; color: #fff; }

/* Department buttons */
.dept-btn {
  padding: 6px 12px;
  margin: 3px;
  border-radius: 6px;
  border: 1px solid var(--sidebar-border);
  cursor: pointer;
  transition: background-color 0.3s, transform 0.2s;
  font-weight: 500;
  font-size: 0.95rem;
}

.dept-btn:hover {
  background-color: var(--sidebar-hover-bg);
  color: var(--sidebar-hover-text);
  transform: scale(1.05);
}

    #departmentsList button:hover {
      background-color: var(--sidebar-hover-bg);
      color: var(--sidebar-hover-text);
      border-color: var(--sidebar-border);
      box-shadow: 0 4px 10px rgba(0,123,255,0.7);
    }

    /* Search bar */
    #deptSearch {
      margin-bottom: 20px;
    }
    #deptSearch input {
      width: 100%;
      padding: 10px;
      font-family: "Times New Roman", serif;
      font-size: 1rem;
      border: 1px solid var(--sidebar-border);
      border-radius: 8px;
      color: var(--main-text);
      background: var(--main-bg);
      transition: background-color 0.3s, color 0.3s;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .container {
        flex-direction: column;
      }
      nav {
        width: 100%;
        flex-direction: row;
        justify-content: space-around;
        padding: 10px 0;
      }
      nav a {
        padding: 10px 15px;
        border-radius: 6px;
        border: 2px solid var(--sidebar-border);
        box-shadow: none;
      }
      nav a:hover, nav a.active {
        background-color: var(--sidebar-hover-bg);
        color: var(--sidebar-hover-text);
        border-color: var(--sidebar-border);
        box-shadow: none;
      }
      main {
        padding: 20px 10px;
      }
      #departmentsList {
        justify-content: center;
      }
      #themeToggle {
        margin-top: 0;
        order: 10; /* push it to end on small screens */
      }

      /* User cards on mobile: show details below name */
      #usersList > div {
        max-height: none;
        cursor: default;
        padding: 10px 15px;
        display: block;
        border-radius: 10px;
        box-shadow: 0 2px 6px var(--card-shadow);
      }
      #usersList > div h3 {
        margin-bottom: 10px;
      }
      #usersList > div .details {
        opacity: 1 !important;
        max-height: none !important;
        overflow: visible !important;
        transition: none !important;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <nav>
      <a href="#" class="active" data-page="home">Home</a>
      <a href="#" data-page="profiles">Profiles</a>
      <a href="#" data-page="department">Department</a>
      <a href="#" data-page="about">About Us</a>
      <a href="#" data-page="contact">Contact</a>
      <button id="themeToggle" aria-label="Toggle light and dark theme">Switch to Dark Mode</button>
    </nav>

    <main id="mainContent">
      <!-- Content will load here -->
    </main>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
    import {
      getFirestore, collection, addDoc, getDocs, query, where
    } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";
    import {
      getStorage, ref, uploadBytesResumable, getDownloadURL
    } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-storage.js";

    const firebaseConfig = {
  apiKey: "AIzaSyDiCD0vG5nJ9qjEzHuHTm8EmZme1WCLvg8",
  authDomain: "see-v-b0663.firebaseapp.com",
  projectId: "see-v-b0663",
  storageBucket: "see-v-b0663.firebasestorage.app",
  messagingSenderId: "126804437219",
  appId: "1:126804437219:web:de25eb9cb55afd6d7dbdd6"
};


const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const storage = getStorage(app);


    const mainContent = document.getElementById('mainContent');
    const navLinks = document.querySelectorAll('nav a');
    const themeToggle = document.getElementById('themeToggle');

    // Departments list
    const departments = [
      "Computer Engineering",
      "Electrical Engineering",
      "Mechanical Engineering",
      "Civil Engineering",
      "Chemical Engineering",
      "Biomedical Engineering",
      "Industrial Engineering",
      "Environmental Engineering",
      "Aerospace Engineering",
      "Materials Engineering",
      "Computer Science",
      "Accounting",
      "Marketing",
      "Finance",
      "Human Resources",
      "Management",
      "Business Analytics",
      "Artificial Intelligence",
      "Cyber Security",
      "Data Science",
      "Information Technology"
    ];

    // Theme toggle logic
    function applyTheme(theme) {
      if(theme === 'dark') {
        document.body.classList.add('dark');
        themeToggle.textContent = 'Switch to Light Mode';
      } else {
        document.body.classList.remove('dark');
        themeToggle.textContent = 'Switch to Dark Mode';
      }
      localStorage.setItem('seev-theme', theme);
    }

    const savedTheme = localStorage.getItem('seev-theme') || 'light';
    applyTheme(savedTheme);

    themeToggle.addEventListener('click', () => {
      const currentTheme = document.body.classList.contains('dark') ? 'dark' : 'light';
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      applyTheme(newTheme);
    });

    function setActiveLink(page) {
      navLinks.forEach(link => {
        link.classList.toggle('active', link.dataset.page === page);
      });
    }

    async function loadHome() {
      mainContent.innerHTML = `
        <h1 style="text-align:center; font-size:3rem; margin-top: 30vh; animation: pulse 2s infinite;">
          Welcome to SEE-V
        </h1>
        <p style="text-align:center; font-family:'Times New Roman', serif; font-size: 1.2rem; margin-top: 10px;">
          Your gateway to showcasing your professional profile. Add your CV now!
        </p>
        <div style="text-align:center; margin-top: 30px;">
          <button id="goToAddUser" style="
            padding: 12px 28px; 
            background: var(--button-bg); 
            color: var(--button-text); 
            border:none; 
            border-radius: 10px;
            font-family: 'Times New Roman', serif;
            font-weight: bold;
            cursor:pointer;
            font-size: 1.1rem;
            box-shadow: 0 4px 10px rgba(0,123,255,0.7);
            transition: background-color 0.3s ease;
          ">Add Your CV</button>
        </div>

        <style>
          @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.6; }
            100% { opacity: 1; }
          }
          #goToAddUser:hover {
            background-color: var(--button-hover-bg);
          }
        </style>
      `;

      document.getElementById('goToAddUser').addEventListener('click', () => {
        navigateTo('department');
      });
    }

    async function loadDepartment() {
      mainContent.innerHTML = `
        <h1>Departments</h1>
        <div id="deptSearch">
          <input type="text" placeholder="Search by department..." id="searchInput" />
        </div>
        <div id="departmentsList"></div>
        <button id="showAddUserFormBtn" style="
          padding: 10px 20px; 
          background: var(--button-bg); 
          color: var(--button-text); 
          border:none; 
          border-radius: 8px;
          font-family: 'Times New Roman', serif;
          font-weight: bold;
          cursor:pointer;
          margin-top: 20px;
        ">Add Your CV</button>

        <div id="addUserFormContainer" style="display:none; margin-top: 30px;">
          <h2>Add Your Profile</h2>
          <form id="userForm">
            <label>Name:</label>
            <input type="text" id="name" required />
            <label>Email:</label>
            <input type="email" id="email" required />
            <label>Department:</label>
            <select id="department" required>
              <option value="">Select department</option>
              ${departments.map(dep => `<option value="${dep}">${dep}</option>`).join('')}
            </select>
            <label>Date of Birth:</label>
            <input type="date" id="dob" required />
            <label>Languages:</label>
            <input type="text" id="languages" placeholder="Comma separated" />
            <label>Upload Resume (PDF, optional):</label>
            <input type="file" id="resume" accept="application/pdf" />
            <progress id="uploadProgress" value="0" max="100" style="width: 100%; display:none;"></progress>
            <button type="submit">Add User</button>
          </form>
        </div>

        <div id="usersList" style="margin-top: 30px;"></div>
      `;

      const departmentsList = document.getElementById('departmentsList');
      const searchInput = document.getElementById('searchInput');
      const showAddUserFormBtn = document.getElementById('showAddUserFormBtn');
      const addUserFormContainer = document.getElementById('addUserFormContainer');
      const usersList = document.getElementById('usersList');
      const userForm = document.getElementById('userForm');
      const progressBar = document.getElementById('uploadProgress');

      function renderDepartments(filter = "") {
  const departmentsList = document.getElementById('departmentsList');
  
  // Group departments by category
  const departmentGroups = {
    "Engineering": departments.filter(d => d.toLowerCase().includes('engineering')),
    "Business": departments.filter(d => ['accounting','marketing','finance','human resources','management','business analytics'].some(b => d.toLowerCase().includes(b))),
    "IT & AI": departments.filter(d => ['computer science','artificial intelligence','cyber security','data science','information technology'].some(b => d.toLowerCase().includes(b))),
    "Medical & Bio": departments.filter(d => ['biomedical','environmental','chemical','materials','aerospace'].some(b => d.toLowerCase().includes(b))),
    "Other": departments.filter(d => ![
      'engineering','accounting','marketing','finance','human resources','management','business analytics',
      'computer science','artificial intelligence','cyber security','data science','information technology',
      'biomedical','environmental','chemical','materials','aerospace'
    ].some(b => d.toLowerCase().includes(b)))
  };

  departmentsList.innerHTML = '';

  for(const [category, deps] of Object.entries(departmentGroups)) {
    if(deps.length === 0) continue;

    const catDiv = document.createElement('div');
    catDiv.style.marginBottom = '12px';

    const catHeader = document.createElement('div');
    catHeader.textContent = category + " ⬇️";
    catHeader.className = `dept-category ${category.toLowerCase().replace(/\s/g, '')}`;
    catDiv.appendChild(catHeader);

    const btnContainer = document.createElement('div');
    btnContainer.style.display = 'none';
    btnContainer.style.flexWrap = 'wrap';
    btnContainer.style.gap = '6px';

    deps.forEach(dep => {
      const btn = document.createElement('button');
      btn.textContent = dep;
      btn.className = 'dept-btn';
      btn.addEventListener('click', () => filterUsersByDepartment(dep));
      btnContainer.appendChild(btn);
    });

    catHeader.addEventListener('click', () => {
      if(btnContainer.style.display === 'none') {
        btnContainer.style.display = 'flex';
        catHeader.textContent = category + " ⬆️";
      } else {
        btnContainer.style.display = 'none';
        catHeader.textContent = category + " ⬇️";
      }
    });

    catDiv.appendChild(btnContainer);
    departmentsList.appendChild(catDiv);
  }
}

      function createUserCard(user) {
        const card = document.createElement('div');
        card.setAttribute('tabindex', '0'); // make focusable for accessibility
        card.innerHTML = `
          <h3>${user.name}</h3>
          <div class="details">
            <p><strong>Email:</strong> ${user.email}</p>
            <p><strong>Department:</strong> ${user.department}</p>
            <p><strong>Date of Birth:</strong> ${user.dob}</p>
            <p><strong>Languages:</strong> ${user.languages || 'N/A'}</p>
            ${user.resumeUrl ? `<p><a href="${user.resumeUrl}" target="_blank" rel="noopener noreferrer">View Resume</a></p>` : ''}
          </div>
        `;
        card.addEventListener('click', () => {
          // Toggle expanded class on desktop only
          if(window.innerWidth > 600) {
            card.classList.toggle('expanded');
          }
        });
        return card;
      }

      async function loadUsers() {
        usersList.innerHTML = 'Loading profiles...';
        const usersCol = collection(db, "users");
        const usersSnapshot = await getDocs(usersCol);
        const usersData = [];
        usersSnapshot.forEach(doc => {
          usersData.push({ id: doc.id, ...doc.data() });
        });
        usersList.innerHTML = '';
        usersData.forEach(user => {
          usersList.appendChild(createUserCard(user));
        });
      }

      function filterUsersByDepartment(dep) {
        // Fetch and show only users with matching department
        getDocs(query(collection(db, "users"), where("department", "==", dep)))
          .then(snapshot => {
            usersList.innerHTML = '';
            if(snapshot.empty) {
              usersList.innerHTML = '<p>No profiles found for this department.</p>';
              return;
            }
            snapshot.forEach(doc => {
              usersList.appendChild(createUserCard({ id: doc.id, ...doc.data() }));
            });
          })
          .catch(e => {
            usersList.innerHTML = `<p>Error fetching profiles: ${e.message}</p>`;
          });
      }

      // Initial render all departments and load users
      renderDepartments();
      await loadUsers();

      // Search input event
      searchInput.addEventListener('input', e => {
        renderDepartments(e.target.value);
      });

      // Show/hide add user form
      showAddUserFormBtn.addEventListener('click', () => {
        if(addUserFormContainer.style.display === 'none') {
          addUserFormContainer.style.display = 'block';
          showAddUserFormBtn.textContent = 'Hide Form';
          addUserFormContainer.scrollIntoView({ behavior: 'smooth' });
        } else {
          addUserFormContainer.style.display = 'none';
          showAddUserFormBtn.textContent = 'Add Your CV';
        }
      });

      // Handle form submit with email uniqueness check
      userForm.addEventListener('submit', async e => {
        e.preventDefault();

        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim().toLowerCase();
        const department = document.getElementById('department').value;
        const dob = document.getElementById('dob').value;
        const languages = document.getElementById('languages').value.trim();
        const resumeInput = document.getElementById('resume');

        if(!name || !email || !department || !dob) {
          alert('Please fill all required fields.');
          return;
        }

        // Check if email already exists in Firestore
        const q = query(collection(db, "users"), where("email", "==", email));
        const existing = await getDocs(q);
        if(!existing.empty) {
          alert('This email is already registered.');
          return;
        }

        // Upload resume if any
        let resumeUrl = '';
        if(resumeInput.files.length > 0) {
          const file = resumeInput.files[0];
          if(file.type !== "application/pdf") {
            alert('Only PDF files are accepted for resume.');
            return;
          }
          const storageRef = ref(storage, `resumes/${Date.now()}_${file.name}`);
          const uploadTask = uploadBytesResumable(storageRef, file);

          progressBar.style.display = 'block';
          progressBar.value = 0;

          uploadTask.on('state_changed',
            snapshot => {
              const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
              progressBar.value = progress;
            },
            error => {
              alert("Error uploading resume: " + error.message);
              progressBar.style.display = 'none';
            },
            async () => {
              resumeUrl = await getDownloadURL(uploadTask.snapshot.ref);
              progressBar.style.display = 'none';
              saveUser();
            }
          );
        } else {
          saveUser();
        }

        async function saveUser() {
          try {
            await addDoc(collection(db, "users"), {
              name, email, department, dob,
              languages,
              resumeUrl
            });
            alert('Profile added successfully!');
            userForm.reset();
            addUserFormContainer.style.display = 'none';
            showAddUserFormBtn.textContent = 'Add Your CV';
            await loadUsers();
          } catch (error) {
            alert('Error adding profile: ' + error.message);
          }
        }
      });
    }

    async function loadProfiles() {
      mainContent.innerHTML = `
        <h1>Profiles</h1>
        <div id="profilesList" style="margin-top: 20px;"></div>
      `;

      const profilesList = document.getElementById('profilesList');

      profilesList.innerHTML = 'Loading profiles...';

      const usersCol = collection(db, "users");
      const usersSnapshot = await getDocs(usersCol);
      const usersData = [];
      usersSnapshot.forEach(doc => {
        usersData.push({ id: doc.id, ...doc.data() });
      });

      profilesList.innerHTML = '';
      usersData.forEach(user => {
        const div = document.createElement('div');
        div.innerHTML = `
          <h3>${user.name}</h3>
          <div class="details">
            <p><strong>Email:</strong> ${user.email}</p>
            <p><strong>Department:</strong> ${user.department}</p>
            <p><strong>Date of Birth:</strong> ${user.dob}</p>
            <p><strong>Languages:</strong> ${user.languages || 'N/A'}</p>
            ${user.resumeUrl ? `<p><a href="${user.resumeUrl}" target="_blank" rel="noopener noreferrer">View Resume</a></p>` : ''}
          </div>
        `;
        div.classList.add('profile-card');
        profilesList.appendChild(div);
      });
    }

    function loadAbout() {
      mainContent.innerHTML = `
        <h1>About Us</h1>
        <p>Welcome to SEE-V, a platform dedicated to helping fresh graduates and companies connect through detailed CVs and profiles.</p>
        <p>We provide a simple, user-friendly interface for users to upload their CVs, showcase their skills, and for companies to discover the best talents in various departments and fields.</p>
        <p>Our mission is to bridge the gap between new graduates seeking opportunities and companies searching for qualified professionals.</p>
        <p>Start by adding your CV in the Departments section and explore profiles across different fields.</p>
      `;
    }

    function loadContact() {
      mainContent.innerHTML = `
        <h1>Contact Us</h1>
        <p>For inquiries, support or feedback, please reach out:</p>
        <ul>
          <li>Email: support@seev.com</li>
          <li>Phone: +971 50 123 4567</li>
          <li>Address: Dubai, UAE</li>
        </ul>
      `;
    }

    // Navigation handler
    function navigateTo(page) {
      setActiveLink(page);
      switch(page) {
        case 'home': loadHome(); break;
        case 'profiles': loadDepartment(); break; // We use the Department page as main profile viewer
        case 'department': loadDepartment(); break;
        case 'about': loadAbout(); break;
        case 'contact': loadContact(); break;
        default: loadHome();
      }
    }

    navLinks.forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        navigateTo(link.dataset.page);
      });
    });

    // Initial load
    navigateTo('home');
  </script>
</body>
</html>

